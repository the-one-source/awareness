<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spectrum of Being</title>
<style>
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        background: #f5f5f7;
        color: #111;
        flex-direction: column;
        text-align: center;
    }
    h1 {
        font-size: 2em;
        color: #444;
        margin-bottom: 2rem;
    }
    select {
        padding: 0.5rem 1rem;
        font-size: 1rem;
        margin-bottom: 2rem;
    }
    .slider-container {
        width: 80%;
        margin: 2rem auto;
    }
    input[type=range] {
        -webkit-appearance: none;
        width: 100%;
        height: 12px;
        border-radius: 6px;
        background: #ddd;
        outline: none;
        margin: 20px 0;
        position: relative;
    }
    input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        background: #5ac8fa;
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        transition: background 0.3s;
        position: relative;
        top: -8px;
    }
    input[type=range]::-moz-range-thumb {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        background: #5ac8fa;
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
    .slider-labels {
        display: flex;
        justify-content: space-between;
        font-size: 0.9rem;
        margin-top: 0.5rem;
        color: #666;
    }
    button {
        padding: 0.8rem 2rem;
        background: #5ac8fa;
        border: none;
        border-radius: 25px;
        color: white;
        font-size: 1.1rem;
        cursor: pointer;
        transition: background 0.3s;
        margin-top: 2rem;
    }
    button:hover {
        background: #3399ff;
    }
    .question-container {
        width: 80%;
        margin: auto;
    }
    .result-container {
        width: 80%;
        margin: auto;
    }
    .hidden {
        display: none;
    }
</style>
</head>
<body>

<div id="landing-page">
    <h1>Spectrum of Being</h1>
    <select id="language-select">
        <option value="en">English</option>
        <option value="de">Deutsch</option>
        <option value="fa">فارسی</option>
    </select>
    <p id="landing-text">This is a reflection of my inner consciousness called Spectrum of Being. I am answering a series of statements using the slider to indicate my agreement.</p>
    <div class="slider-container">
        <input type="range" min="0" max="10" value="5" id="demo-slider">
        <div class="slider-labels">
            <span id="label-left">Disagree</span>
            <span id="label-middle">Uncertain</span>
            <span id="label-right">Agree</span>
        </div>
    </div>
    <button id="start-btn">Start</button>
</div>

<div id="question-page" class="hidden">
    <div class="question-container">
        <p id="question-text"></p>
        <input type="range" min="0" max="10" value="5" id="question-slider">
        <button id="next-btn">Next</button>
    </div>
</div>

<div id="result-page" class="hidden">
    <div class="result-container" id="result-text"></div>
</div>

<script>
const questions = [
    // English questions (replace with your full list)
    {stage: 1, text: "There is someone (something) out there"},
    {stage: 1, text: "I am the victim of life"},
    {stage: 2, text: "Life happens through me"},
    {stage: 2, text: "I am connected to a source, a higher self, or god"},
    {stage: 3, text: "Life happens as me"},
    {stage: 3, text: "I am the source; god is a concept within me"}
];

const translations = {
    en: questions,
    de: [
        {stage:1, text:"Es gibt da draußen jemanden (etwas)"},
        {stage:1, text:"Ich bin das Opfer des Lebens"},
        {stage:2, text:"Das Leben geschieht durch mich"},
        {stage:2, text:"Ich bin mit einer Quelle, einem höheren Selbst oder Gott verbunden"},
        {stage:3, text:"Das Leben geschieht als ich"},
        {stage:3, text:"Ich bin die Quelle; Gott ist ein Konzept in mir"}
    ],
    fa: [
        {stage:1, text:"کسی (چیزی) آن بیرون وجود دارد"},
        {stage:1, text:"من قربانی زندگی هستم"},
        {stage:2, text:"زندگی از طریق من اتفاق می‌افتد"},
        {stage:2, text:"من به منبع، خود بالاتر یا خدا متصل هستم"},
        {stage:3, text:"زندگی به عنوان من اتفاق می‌افتد"},
        {stage:3, text:"من منبع هستم؛ خدا مفهومی درون من است"}
    ]
};

let currentQuestions = [];
let currentIndex = 0;
let answers = [];
let currentLang = 'en';

const landingPage = document.getElementById('landing-page');
const questionPage = document.getElementById('question-page');
const resultPage = document.getElementById('result-page');
const questionText = document.getElementById('question-text');
const questionSlider = document.getElementById('question-slider');
const nextBtn = document.getElementById('next-btn');
const startBtn = document.getElementById('start-btn');
const languageSelect = document.getElementById('language-select');
const demoSlider = document.getElementById('demo-slider');

languageSelect.addEventListener('change', () => {
    currentLang = languageSelect.value;
    landingPage.textContent = '';
    updateLandingLanguage();
});

function updateLandingLanguage(){
    landingPage.querySelector('#landing-text').textContent = {
        en: "This is a reflection of my inner consciousness called Spectrum of Being. I am answering a series of statements using the slider to indicate my agreement.",
        de: "Dies ist eine Reflexion meines inneren Bewusstseins namens Spectrum of Being. Ich beantworte eine Reihe von Aussagen mit dem Schieberegler, um meine Zustimmung anzuzeigen.",
        fa: "این بازتابی از آگاهی درونی من به نام طیف بودن است. من به یک سری جملات با استفاده از لغزنده برای نشان دادن میزان موافقت پاسخ می‌دهم."
    }[currentLang];

    const labels = {en:['Disagree','Uncertain','Agree'],de:['Nicht einverstanden','Unsicher','Einverstanden'],fa:['موافق نیستم','نامطمئن','موافقم']};
    document.getElementById('label-left').textContent = labels[currentLang][0];
    document.getElementById('label-middle').textContent = labels[currentLang][1];
    document.getElementById('label-right').textContent = labels[currentLang][2];
}

startBtn.addEventListener('click', () => {
    landingPage.classList.add('hidden');
    currentQuestions = [...translations[currentLang]].sort(() => Math.random() - 0.5);
    currentIndex = 0;
    answers = [];
    showQuestion();
    questionPage.classList.remove('hidden');
});

function showQuestion(){
    questionText.textContent = currentQuestions[currentIndex].text;
    questionSlider.value = 5;
}

nextBtn.addEventListener('click', () => {
    answers.push({stage: currentQuestions[currentIndex].stage, value: Number(questionSlider.value)});
    currentIndex++;
    if(currentIndex < currentQuestions.length){
        showQuestion();
    } else {
        questionPage.classList.add('hidden');
        showResult();
        resultPage.classList.remove('hidden');
    }
});

function showResult(){
    const stageScores = {1:0,2:0,3:0};
    answers.forEach(ans => { stageScores[ans.stage] += ans.value; });

    const maxStage = Object.keys(stageScores).reduce((a,b)=> stageScores[a]>=stageScores[b]?a:b);
    let resultText = '';
    if(maxStage==1){
        resultText = {
            en:"My consciousness currently aligns with victimhood, experiencing challenges, learning, and growth is needed.",
            de:"Mein Bewusstsein stimmt derzeit mit der Opferhaltung überein, Herausforderungen werden erlebt, Lernen und Wachstum sind erforderlich.",
            fa:"آگاهی من در حال حاضر با قربانی بودن همسو است، در حال تجربه چالش‌ها، یادگیری و نیاز به رشد."
        }[currentLang];
    } else if(maxStage==2){
        resultText = {
            en:"My consciousness currently aligns with realization, observing patterns, questioning, and expanding awareness.",
            de:"Mein Bewusstsein stimmt derzeit mit der Erkenntnis überein, Muster werden beobachtet, hinterfragt und das Bewusstsein erweitert.",
            fa:"آگاهی من در حال حاضر با درک همسو است، الگوها را مشاهده می‌کند، سوال می‌پرسد و آگاهی را گسترش می‌دهد."
        }[currentLang];
    } else if(maxStage==3){
        resultText = {
            en:"My consciousness currently aligns with being, full authorship, source awareness, and deep consciousness.",
            de:"Mein Bewusstsein stimmt derzeit mit dem Sein, voller Eigenverantwortung, Quellenbewusstsein und tiefem Bewusstsein überein.",
            fa:"آگاهی من در حال حاضر با بودن، نویسندگی کامل، آگاهی منبع و آگاهی عمیق همسو است."
        }[currentLang];
    }

    resultPage.innerHTML = `<p>Stage I: ${stageScores[1]}</p>
                            <p>Stage II: ${stageScores[2]}</p>
                            <p>Stage III: ${stageScores[3]}</p>
                            <hr>
                            <p>${resultText}</p>`;
}

updateLandingLanguage();

</script>

</body>
</html>
