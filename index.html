<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Spectrum of Awareness</title>
<style>
  :root{
    --panel-width:720px;
    --accent:#666440;
    --bg:#f5f7fa;
    --card:#ffffff;
    --muted:#666;
    --text:#111;
  }
  html,body{height:100%;margin:0;background:var(--bg);font-family:-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--text);}
  .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:24px;}
  .panel{width:min(92%,var(--panel-width));max-width:var(--panel-width);background:var(--card);border-radius:14px;box-shadow:0 10px 30px rgba(20,20,30,0.06);padding:34px;box-sizing:border-box;text-align:center;}
  h1{margin:0 0 18px 0;font-weight:400;color:#444;font-size:22px;}
  .row{display:flex;justify-content:center;gap:12px;align-items:center;margin-bottom:20px;}
  select{padding:8px 12px;font-size:15px;border-radius:8px;border:1px solid #e6e6e6;background:white;}
  p.lead{margin:0 0 18px 0;color:#666;font-size:15px;line-height:1.45;}
  .fixed-slider-wrap{width:100%;display:flex;flex-direction:column;align-items:center;gap:6px;margin:18px 0 8px 0;}
  .fixed-track{width:92%;max-width:640px;}
  input[type="range"]{-webkit-appearance:none;width:100%;height:12px;border-radius:10px;background:#e6e6e6;outline:none;margin:0;padding:0;}
  input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:34px;height:18px;border-radius:9px;background:var(--accent);box-shadow:0 6px 18px rgba(102,100,64,0.24);border:2px solid white;margin-top:-3px;cursor:pointer;}
  input[type="range"]::-moz-range-thumb{width:34px;height:18px;border-radius:9px;background:var(--accent);box-shadow:0 6px 18px rgba(102,100,64,0.24);border:2px solid white;cursor:pointer;}
  .slider-labels{width:92%;max-width:640px;display:flex;justify-content:space-between;color:var(--muted);font-size:13px;margin-top:8px;user-select:none;}
  .btn{display:inline-block;padding:12px 28px;border-radius:28px;background:var(--accent);color:white;border:none;font-size:15px;cursor:pointer;box-shadow:0 6px 18px rgba(102,100,64,0.18);margin-top:18px;}
  .btn:active{transform:translateY(1px);}
  .question-container{width:100%;}
  .result-row{margin-top:12px;color:#333;font-size:15px;}
  .result-stage{font-weight:600;margin:6px 0;}
  .hidden{display:none;}
  :root[dir="rtl"] .panel{direction:rtl;}
  :root[dir="rtl"] .slider-labels{direction:rtl;}
  #questionText{font-size:18px;line-height:1.4;margin:6px 0 14px 0;text-align:center;word-break:break-word;}
</style>
</head>
<body>
<div class="wrap">
  <div class="panel" id="panel">

    <h1 id="pageTitle">Spectrum of Awareness</h1>

    <div class="row" id="langRow">
      <select id="langSelect" aria-label="Language">
        <option value="en">English</option>
        <option value="de">Deutsch</option>
        <option value="fa">فارسی</option>
      </select>
    </div>

    <div id="landingPane">
      <p class="lead" id="landingText">This is a reflection of my inner consciousness called Spectrum of Awareness. I am answering a series of statements using the slider to indicate my agreement.</p>

      <div class="fixed-slider-wrap">
        <div class="fixed-track">
          <input id="landingSlider" type="range" min="0" max="10" value="5" />
        </div>
        <div class="slider-labels" id="landingLabels">
          <span id="lblLeft">Disagree</span>
          <span id="lblMid">Uncertain</span>
          <span id="lblRight">Agree</span>
        </div>
      </div>

      <button id="startBtn" class="btn">Start</button>
    </div>

    <div id="questionPane" class="hidden">
      <div id="questionText"></div>
      <div class="fixed-slider-wrap">
        <div class="fixed-track">
          <input id="questionSlider" type="range" min="0" max="10" value="5" />
        </div>
        <div class="slider-labels" id="questionLabels">
          <span id="lblLeftQ">Disagree</span>
          <span id="lblMidQ">Uncertain</span>
          <span id="lblRightQ">Agree</span>
        </div>
      </div>
      <button id="nextBtn" class="btn">Next</button>
    </div>

    <div id="resultPane" class="hidden">
      <div class="result-row">
        <div id="stageI" class="result-stage"></div>
        <div id="stageII" class="result-stage"></div>
        <div id="stageIII" class="result-stage"></div>
      </div>
      <div class="result-row" id="resultText" style="margin-top:18px;"></div>
      <div style="margin-top:18px;">
        <button id="restartBtn" class="btn">Restart</button>
      </div>
    </div>

  </div>
</div>

<script>
/* === Questions arrays (English + German + Persian) === */
const QUESTIONS = {
en: [
/* Stage I */
"Life happens to me.",
"I feel life is unfair or against me.",
"I am the victim of life.",
"I need validation to feel seen.",
"I blame society for everything I experience.",
"I feel disconnected or unseen.",
"I was created.",
"There is someone or something out there.",
"Someone has built the wall.",
"I feel powerless to change what happens.",
"I believe luck or fate decides outcomes.",
"I think others owe me something.",
"I fear losing control.",
"Others exist.",
"There is God.",
"Everything is unfair; this world needs to be changed.",
"I need to belong to feel whole.",
"I often compare myself to others.",
"I think peace depends on circumstances.",
"I hold resentment or blame.",
"There is hell and heaven.",

/* Stage II */
"Life happens through me.",
"I notice patterns repeating and wonder why.",
"I am connected to a source (higher self, god).",
"I am validated and seen.",
"I am part of society, therefore I blame myself.",
"I feel glimpses of unity and flow.",
"I am questioning creation.",
"Is there anyone out there?",
"I am a brick in the wall.",
"I feel moments of calm beyond emotion.",
"I begin forgiving and letting go.",
"I trust life more often than I resist it.",
"I am learning to direct my attention inward.",
"Are others beings?",
"There is no state; just being?",
"I must change the world and bring fairness into this.",
"I am not alone; I belong.",
"I sense deeper meaning in challenges.",
"I begin to see love behind appearances.",
"I recognize reflections in others.",
"Hell and heaven are the state of being.",

/* Stage III */
"Life happens as me.",
"I see all as one movement of consciousness.",
"I am the source; God is just a concept within me.",
"I am validation.",
"Society arises from me; I blame no one.",
"I live without striving — just being.",
"I am the creator.",
"There is no one out there.",
"I am the wall, shaping the wall constantly.",
"I know love as my natural state.",
"I speak from stillness, not reaction.",
"I understand that nothing is missing.",
"I feel timeless awareness beyond body and mind.",
"Others aren’t beings.",
"God is a concept created by me.",
"I radiate fairness; nothing needs to be changed.",
"I am alone — the only one.",
"I hold no resistance to what arises.",
"I am love observing itself.",
"I see no separation between creation and creator.",
"There is no state, just being."
],
de: [
/* Stage I */
"Das Leben geschieht mir.",
"Ich fühle, dass das Leben unfair ist oder gegen mich arbeitet.",
"Ich bin das Opfer des Lebens.",
"Ich brauche Bestätigung, um gesehen zu werden.",
"Ich gebe der Gesellschaft die Schuld für alles, was ich erlebe.",
"Ich fühle mich getrennt oder unsichtbar.",
"Ich wurde erschaffen.",
"Da draußen ist jemand oder etwas.",
"Jemand hat die Mauer gebaut.",
"Ich fühle mich machtlos, zu ändern, was geschieht.",
"Ich glaube, Glück oder Schicksal bestimmt die Ergebnisse.",
"Ich denke, andere schulden mir etwas.",
"Ich fürchte, die Kontrolle zu verlieren.",
"Andere existieren.",
"Es gibt Gott.",
"Alles ist unfair; diese Welt muss verändert werden.",
"Ich muss dazugehören, um mich vollständig zu fühlen.",
"Ich vergleiche mich oft mit anderen.",
"Ich denke, Frieden hängt von den Umständen ab.",
"Ich hege Groll oder Schuld.",
"Es gibt Hölle und Himmel.",

/* Stage II */
"Das Leben geschieht durch mich.",
"Ich bemerke sich wiederholende Muster und frage mich warum.",
"Ich bin mit einer Quelle verbunden (höheres Selbst, Gott).",
"Ich werde validiert und gesehen.",
"Ich bin Teil der Gesellschaft, daher gebe ich mir selbst die Schuld.",
"Ich spüre Momente der Einheit und des Flusses.",
"Ich hinterfrage die Schöpfung.",
"Gibt es jemanden da draußen?",
"Ich bin ein Baustein in der Mauer.",
"Ich spüre Momente der Ruhe jenseits der Emotionen.",
"Ich beginne zu vergeben und loszulassen.",
"Ich vertraue dem Leben öfter, als ich Widerstand leiste.",
"Ich lerne, meine Aufmerksamkeit nach innen zu lenken.",
"Sind andere Wesen?",
"Es gibt keinen Zustand, nur Sein?",
"Ich muss die Welt verändern und Gerechtigkeit bringen.",
"Ich bin nicht allein; ich gehöre dazu.",
"Ich erkenne tiefere Bedeutungen in Herausforderungen.",
"Ich beginne, Liebe hinter Erscheinungen zu sehen.",
"Ich erkenne Reflexionen in anderen.",
"Hölle und Himmel sind Zustände des Seins.",

/* Stage III */
"Das Leben geschieht als ich.",
"Ich sehe alles als eine Bewegung des Bewusstseins.",
"Ich bin die Quelle; Gott ist nur ein Konzept in mir.",
"Ich bin die Bestätigung.",
"Die Gesellschaft entsteht aus mir; ich gebe niemandem die Schuld.",
"Ich lebe ohne Anstrengung — einfach Sein.",
"Ich bin der Schöpfer.",
"Da draußen ist niemand.",
"Ich bin die Mauer und forme sie ständig.",
"Ich kenne Liebe als meinen natürlichen Zustand.",
"Ich spreche aus Stille, nicht aus Reaktion.",
"Ich verstehe, dass nichts fehlt.",
"Ich fühle zeitlose Bewusstheit jenseits von Körper und Geist.",
"Andere sind keine Wesen.",
"Gott ist ein von mir geschaffenes Konzept.",
"Ich strahle Gerechtigkeit aus; nichts muss verändert werden.",
"Ich bin allein — der Einzige.",
"Ich habe keinen Widerstand gegen das, was entsteht.",
"Ich bin die Liebe, die sich selbst beobachtet.",
"Ich sehe keine Trennung zwischen Schöpfer und Schöpfung.",
"Es gibt keinen Zustand, nur Sein."
],
fa: [
/* Stage I */
"زندگی بر من اتفاق می‌افتد.",
"احساس می‌کنم زندگی ناعادلانه است یا علیه من عمل می‌کند.",
"من قربانی زندگی هستم.",
"برای دیده شدن نیاز به تأیید دارم.",
"جامعه را مقصر همه چیزهایی که تجربه می‌کنم می‌دانم.",
"احساس جداشدگی یا دیده نشدن دارم.",
"من آفریده شده‌ام.",
"کسی یا چیزی آن بیرون وجود دارد.",
"کسی دیوار را ساخته است.",
"احساس ناتوانی در تغییر آنچه اتفاق می‌افتد دارم.",
"اعتقاد دارم شانس یا سرنوشت نتایج را تعیین می‌کند.",
"فکر می‌کنم دیگران به من بدهکارند.",
"از دست دادن کنترل می‌ترسم.",
"دیگران وجود دارند.",
"خدا وجود دارد.",
"همه چیز ناعادلانه است؛ این جهان باید تغییر کند.",
"برای کامل بودن نیاز دارم که به جمع تعلق داشته باشم.",
"اغلب خود را با دیگران مقایسه می‌کنم.",
"فکر می‌کنم آرامش به شرایط وابسته است.",
"کینه یا سرزنش دارم.",
"بهشت و جهنم وجود دارند.",

/* Stage II */
"زندگی از طریق من اتفاق می‌افتد.",
"الگوها را مشاهده می‌کنم و از خود می‌پرسم چرا.",
"به منبعی متصل هستم (خود بالاتر، خدا).",
"تأیید شده و دیده می‌شوم.",
"من بخشی از جامعه هستم، بنابراین خودم را سرزنش می‌کنم.",
"لحظاتی از وحدت و جریان را احساس می‌کنم.",
"در حال سؤال دربارهٔ آفرینش هستم.",
"آیا کسی آن بیرون هست؟",
"من یک آجر در دیوار هستم.",
"لحظاتی از آرامش فراتر از احساسات را تجربه می‌کنم.",
"شروع به بخشش و رها کردن می‌کنم.",
"به زندگی اعتماد می‌کنم بیش از مقاومت.",
"در حال یادگیری هدایت توجه به درون هستم.",
"دیگران موجودند؟",
"هیچ وضعیتی وجود ندارد، فقط هستی؟",
"باید جهان را تغییر دهم و عدالت بیاورم.",
"من تنها نیستم؛ تعلق دارم.",
"معنای عمیق‌تری در چالش‌ها حس می‌کنم.",
"شروع به دیدن عشق پشت ظاهرها می‌کنم.",
"انعکاس‌ها را در دیگران می‌شناسم.",
"بهشت و جهنم حالت‌های هستی هستند.",

/* Stage III */
"زندگی به عنوان من اتفاق می‌افتد.",
"همه چیز را به عنوان یک حرکت از آگاهی می‌بینم.",
"من منبع هستم؛ خدا تنها یک مفهوم در من است.",
"من خود تأیید هستم.",
"جامعه از من نشأت می‌گیرد؛ به کسی سرزنش نمی‌کنم.",
"بدون تلاش زندگی می‌کنم — فقط هستم.",
"من خالق هستم.",
"هیچ کسی آن بیرون نیست.",
"من دیوار هستم و آن را مداوم شکل می‌دهم.",
"عشق را به عنوان حالت طبیعی خود می‌شناسم.",
"از سکون می‌گویم، نه واکنش.",
"درک می‌کنم که هیچ چیزی کم نیست.",
"آگاهی فراتر از بدن و ذهن را احساس می‌کنم.",
"دیگران موجود نیستند.",
"خدا مفهومی است که توسط من خلق شده است.",
"عدالت را می‌تابانم؛ چیزی نیاز به تغییر ندارد.",
"من تنها هستم — تنها یک نفر.",
"مقاومتی نسبت به آنچه پدید می‌آید ندارم.",
"من عشق هستم که خود را مشاهده می‌کند.",
"هیچ جدایی بین آفریننده و آفریده نمی‌بینم.",
"هیچ وضعیتی وجود ندارد، فقط هستی."
]
};

const STAGE_TEXT = [
  { en: "My consciousness currently aligns with victimhood, experiencing challenges, learning, and growth is needed.",
    de: "Mein Bewusstsein entspricht derzeit dem Opferbewusstsein, Herausforderungen werden erlebt, Lernen und Wachstum sind notwendig.",
    fa: "آگاهی من در حال حاضر با قربانی بودن همسو است؛ چالش‌ها تجربه می‌شوند و یادگیری و رشد لازم است." },
  { en: "My consciousness currently aligns with realization, observing patterns, questioning, and expanding awareness.",
    de: "Mein Bewusstsein entspricht derzeit der Erkenntnis, Muster werden beobachtet, hinterfragt und das Bewusstsein erweitert.",
    fa: "آگاهی من در حال حاضر با تحقق همسو است، الگوها را مشاهده می‌کنم، سؤال می‌کنم و آگاهی را گسترش می‌دهم." },
  { en: "My consciousness currently aligns with being, full authorship, source awareness, and deep consciousness.",
    de: "Mein Bewusstsein entspricht derzeit dem Sein, volle Autorschaft, Quellenbewusstsein und tiefe Bewusstheit.",
    fa: "آگاهی من در حال حاضر با هستی همسو است، دارای خلق کامل، آگاهی منبع و آگاهی عمیق." }
];

let lang = "en";
let order = [];
let idx = 0;
let answers = [];

const root = document.documentElement;
const pageTitle = document.getElementById("pageTitle");
const langSelect = document.getElementById("langSelect");
const landingPane = document.getElementById("landingPane");
const questionPane = document.getElementById("questionPane");
const resultPane = document.getElementById("resultPane");
const startBtn = document.getElementById("startBtn");
const nextBtn = document.getElementById("nextBtn");
const questionText = document.getElementById("questionText");
const questionSlider = document.getElementById("questionSlider");
const landingSlider = document.getElementById("landingSlider");
const lblLeft = document.getElementById("lblLeft");
const lblMid  = document.getElementById("lblMid");
const lblRight = document.getElementById("lblRight");
const stageIEl = document.getElementById("stageI");
const stageIIEl = document.getElementById("stageII");
const stageIIIEl = document.getElementById("stageIII");
const resultTextEl = document.getElementById("resultText");
const restartBtn = document.getElementById("restartBtn");
const langRow = document.getElementById("langRow");

/* language application */
function applyLanguage(l){
  lang = l;
  if(lang === "fa"){ root.setAttribute("dir","rtl"); } else { root.setAttribute("dir","ltr"); }

  pageTitle.textContent = lang==="de"?"Bewusstseinsspektrum":lang==="fa"?"طیف آگاهی":"Spectrum of Awareness";

  lblLeft.textContent = lang==="de"?"Ablehnen":lang==="fa"?"مخالف": "Disagree";
  lblMid.textContent = lang==="de"?"Unsicher":lang==="fa"?"نامشخص": "Uncertain";
  lblRight.textContent = lang==="de"?"Zustimmung":lang==="fa"?"موافق": "Agree";
  document.getElementById("lblLeftQ").textContent = lblLeft.textContent;
  document.getElementById("lblMidQ").textContent = lblMid.textContent;
  document.getElementById("lblRightQ").textContent = lblRight.textContent;
}

/* randomize question order */
function randomizeQuestions(){
  const qList = QUESTIONS[lang];
  order = qList.map((q,i)=>({q,i})).sort(()=>Math.random()-0.5);
}

/* show next question */
function showQuestion(){
  if(idx >= order.length){
    questionPane.classList.add("hidden");
    computeResult();
    return;
  }
  questionText.textContent = order[idx].q;
  questionSlider.value = 5;
  questionPane.classList.remove("hidden");
}

/* compute stage result based on averages */
function computeResult(){
  const stageSums = [0,0,0]; 
  const stageCounts = [0,0,0];
  order.forEach((item, i)=>{
    let val = answers[i];
    if(i<20) {stageSums[0]+=val; stageCounts[0]++;} 
    else if(i<40) {stageSums[1]+=val; stageCounts[1]++;} 
    else {stageSums[2]+=val; stageCounts[2]++;}
  });
  const stageAvgs = stageSums.map((sum,i)=>sum/stageCounts[i]);
  const maxAvg = Math.max(...stageAvgs);
  const maxIndex = stageAvgs.indexOf(maxAvg);

  stageIEl.textContent = (lang==="de"?"Stufe I — Opferbewusstsein":lang==="fa"?"مرحله اول — قربانی بودن":"Stage I — Victimhood")+": "+stageAvgs[0].toFixed(1);
  stageIIEl.textContent = (lang==="de"?"Stufe II — Erkenntnis":lang==="fa"?"مرحله دوم — تحقق":"Stage II — Realization")+": "+stageAvgs[1].toFixed(1);
  stageIIIEl.textContent = (lang==="de"?"Stufe III — Sein":lang==="fa"?"مرحله سوم — هستی":"Stage III — Being")+": "+stageAvgs[2].toFixed(1);

  resultTextEl.textContent = STAGE_TEXT[maxIndex][lang];

  resultPane.classList.remove("hidden");
}

/* events */
langSelect.addEventListener("change",(e)=>{applyLanguage(e.target.value);});
startBtn.addEventListener("click",()=>{
  landingPane.classList.add("hidden");
  randomizeQuestions();
  idx=0; answers=[];
  showQuestion();
});
nextBtn.addEventListener("click",()=>{
  answers.push(parseInt(questionSlider.value));
  idx++;
  showQuestion();
});
restartBtn.addEventListener("click",()=>{
  resultPane.classList.add("hidden");
  landingPane.classList.remove("hidden");
  landingSlider.value = 5;
});

/* init */
applyLanguage(lang);
</script>
</body>
</html>
